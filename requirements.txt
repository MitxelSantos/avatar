# Avatar Pipeline - GTX 1650 4GB + Python 3.11
# 
# INSTALACIÓN:
# 1. pip install torch==2.1.1 torchvision==0.16.1 torchaudio==2.1.1 --index-url https://download.pytorch.org/whl/cu118
# 2. pip install -r requirements.txt

# FACE DETECTION - CPU only para liberar VRAM
tensorflow-cpu==2.15.1
mtcnn==0.1.1
opencv-python-headless==4.8.1.78

# IMAGE PROCESSING
Pillow==10.0.1
numpy==1.24.3
scikit-image==0.22.0

# RAW PROCESSING
rawpy==0.19.0
imageio==2.31.6
imageio-ffmpeg==0.4.9
exifread==3.0.0

# DIFFUSION & LORA
diffusers==0.27.2
transformers==4.38.2
accelerate==0.27.2
safetensors==0.4.1

# XFORMERS - CRÍTICO para 4GB VRAM
# IMPORTANTE: Requiere torch==2.1.1 (NO 2.1.2)
xformers==0.0.23.post1

# BITSANDBYTES - 8-bit optimizations
# Windows requiere versión especial
bitsandbytes-windows==0.37.5; sys_platform == "win32"
bitsandbytes==0.41.1; sys_platform != "win32"

# OPTIMIZERS
dadaptation==3.1

# TRAINING UTILITIES
tensorboard==2.15.1
omegaconf==2.3.0

# DATA PROCESSING
pandas==2.1.4
datasets==2.16.1

# UTILITIES
tqdm==4.66.1
rich==13.7.0
pyyaml==6.0.1
toml==0.10.2
jsonschema==4.20.0
einops==0.7.0
imagesize==1.4.1
voluptuous==0.13.1

# PYTHON CORE
setuptools==69.0.3
wheel==0.42.0

# WINDOWS
pywin32==306; sys_platform == "win32"
colorama==0.4.6; sys_platform == "win32"

# PERFORMANCE
psutil==5.9.6
python-dateutil==2.8.2
charset-normalizer==3.3.2